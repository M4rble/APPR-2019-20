---
title: "Analiza uporabe komunikacijskih in informacijskih tehnologij v Evropi"
author: "Anže Mramor"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
runtime: shiny
---

```{r setup, echo=FALSE, results='hide', message=FALSE, warning=FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding="UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding="UTF-8")
```

```{r rstudio, echo=FALSE, results='asis'}
# Izris povezave do RStudia na Binderju
source("lib/rstudio.r", encoding="UTF-8")
```

# Izbira teme

Pri projektu bom analiziral države Evropske unije glede na to v kakšni meri in na kakšen način uporabljajo  komunikacijske in informacijske tehnologije (telefonija, uporaba interneta in računalnika). Države bom primerjal glede na:
- dostop gospodinjstev do interneta (in razlogi zakaj ne dostopajo do njega)
- opravila za katera uporabljajo posamezniki internet
- znanje o uporabi digitalnih in informacijskih tehnologij glede na spol in državljanstvo
- komunikacijo državljanov z oblastmi prek informacijskih tehnologij

Pri dostopu do interneta bom države prmerjal glede na delež populacije, ki dostopa do interneta, ter ugotovil kako se je ta delež spreminjal v obdobju 2007-2019. Države bom tudi primerjal glede na razloge, zaradi katerih državljani niso dostopali do interneta in naredil primerjavo spreminjajna deležev pri posameznem razlogu v letih 2006, 2010, 2015 in 2019.

Pri opravilih za uporabljanje interneta bom države primerjal glede na dejavnosti za katere so uporabljali internet, ter primerjal spremembe teh deležev v letih 2006, 2010, 2015 in 2019.

Pri analizi znanja uporabe digitalnih in informacijskih tehnologij bom države primerjal glede na znanje uporabe njenih državljanov, podatke pa bom ločil na celotno populacijo (16-74 let), na moške in na ženske (enako starostno obdobje), ter primerjal deleže znanja v letih 2015 in 2019.

Nazadnje bom analiziral uporabo informacijskih tehnologij za komunikacijo z državo, ter primerjal deleže po  državah v obdobju 2008-2019. Poleg tega bom razčlenil deleže komunikacije z državo glede na aktivnosti v letih 2010, 2015 in 2019.

Za vir podatkov bom uporabil Eurostat (https://ec.europa.eu/eurostat/data/database).

***

# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE, message=FALSE}
source("uvoz/uvoz_podatkov.r", encoding="UTF-8")
```
```{r vizualizacija, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}
source("vizualizacija/vizualizacija.r", encoding="UTF-8")
```

Uvozil sem podatke o uporabi komunikacijskih in informacijskih tehnologij v obliki CSV iz Evrostata. Podatke imam v šestih razpredelnicah v obliki *tidy data*.

1. 'dostop_do_interneta' - podatki o deležih populacije države, ki dostopa do interneta
  - 'leto' - spremenljivka: leto meritve (2007-2019)
  - 'drzava' - spremenljivka: država, v kateri gledamo meritev
  - 'delez' - meritev: delež državljanov z dostopom do interneta
  
2. 'razlogi_za_nedostopanje_do_interneta' - podatki o razlogih državljanov posamezne države za nedostopanje do interneta in deleži populacije posamezne države
  - 'razlog' - spremenljivka: razlog za nedostopanje do interneta
  - 'drzava' - spremenljivka: država, v kateri gledamo meritev
  - 'leto' - spremenljivka: leto meritve (2006, 2010, 2015, 2019)
  - 'delez' - meritev: delež državljanov, ki zaradi danega razloga ne dostopa do interneta
  
3. 'internetne_aktivnosti' - podatki o aktivnostih za katere državljani posamezne države uporabljajo internet
  - 'uporaba' - spremenljivka: aktivnost, za katero uporabljajo internet
  - 'drzava' - spremenljivka: država, v kateri gledamo meritev
  - 'leto' - spremenljivka: leto meritve (2006, 2010, 2015, 2019)
  - 'delez' - meritev: delež državljanov, ki uporabljajo internet za dano aktivnost
  
4. 'digitalno_znanje' - podatki o znanju uporabe digitalnih in informacijskih tehnologij državljanov posamezne države, glede na spol
  - 'nivo.znanja' - spremenljivka: kakšen nivo znanja imajo (nizek, osnoven, nadpovprečen, nimajo znanja)
  - 'drzava' - spremenljivka: država, v kateri gledamo meritev
  - 'leto' - spremenljivka: leto meritve (2015 in 2019)
  - 'skupina' - spremenljivka: katero skupino obravnavamo (celotna populacija, moški, ženske (vsi 16-74 let))
  - 'delez' - meritev: delež državljanov določene skupine, ki imajo določen nivo znanja o uporabi tehnologije
 
5. 'komunikacija_posameznikov_z_drzavo' - podatki o deležu državljanov, ki uporabljajo informacijske tehnologije za komuniciranje z državo (oblastmi)
  - 'leto' - spremenljivka: leto meritve (2008-2019)
  - 'drzava' - spremenljivka: država, v kateri gledamo meritev
  - 'delez' - meritev: delež državljanov, ki z državo komunicira preko informacijskih tehnologij
 
6. 'namen_uporabe_interneta_za_komunikacijo_z_drzavo' - podatki o namenih komuniciranja z državo, za katere državljani uporabljajo informacijske tehnologije
  - 'namen.uporabe' - spremenljivka: namen za uporabljanje interneta za komunikacijo z državo
  - 'drzava' - spremenljivka: država, v kateri gledamo meritev
  - 'leto' - spremenljivka: leto meritve (2010, 2015, 2019)
  - 'delez' - meritev: delež državljanov, ki z državo komunicira z danim namenom


***

# Analiza in vizualizacija podatkov


print(graf1)

Spodnji zemljevid prikazuje povprečno velikost družine za vsako občino.

```{r zemljevid, echo=FALSE, fig.align='center', fig.cap='Zemljevid povprečnega števila otrok v družini'}
ggplot() + geom_polygon(data=left_join(zemljevid, povprecja, by=c("OB_UIME"="obcina")),
                        aes(x=long, y=lat, group=group, fill=povprecje)) +
  ggtitle("Povprečno število otrok v družini") + xlab("") + ylab("") +
  guides(fill=guide_colorbar(title="Povprečje"))
```

***

# Napredna analiza podatkov

```{r analiza, echo=FALSE, message=FALSE}
source("analiza/analiza.r", encoding="UTF-8")
```

Spodnji graf prikazuje povezavo med številom naselij in površino občine.

```{r graf, echo=FALSE, fig.align='center', fig.cap='Povezava med številom naselij in površino občine'}
ggplot(inner_join(obcine, data.frame(obcina=names(skupine),
                                     skupina=factor(skupine)), by="obcina")
, aes(x=povrsina, y=naselja, color=skupina, size=prebivalci/1000)) + geom_point() +
  ggtitle("Število naselij glede na površino občine") +
  xlab(expression("Površina (km"^2 * ")")) + ylab("Št. naselij") +
  guides(color=guide_legend(title="Skupina"),
         size=guide_legend(title="Prebivalci (* 1000)"))
```

***

```{r shiny, echo=FALSE}
shinyAppDir("shiny", options=list(width="100%", height=600))
```
